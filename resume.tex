\documentclass[10pt,a4paper]{resume}

\geometry{left=1.25cm,right=1.25cm,top=1.5cm,bottom=1.5cm,columnsep=1.2cm}

\author{Mohammad Sadegh Khoeini}
\date{\today}
\makeatletter

\title{\@author\ Resume}
\name{\@author}
\tagline{Senior Software Engineer @ Spotify}
\personalinfo{%
  \renewcommand{\arraystretch}{0.8}
  \begin{tabularx}{\textwidth}{@{}XX@{}}
    \location{Stockholm, Sweden} & \phone{+46 72 169 7134} \\
    \email{mohammadk@spotify.com} & \linkedin{mohammad-sadegh-khoeini-b6779956} \\
    \github{github.com/mkhoeini} & \stackoverflow{stackoverflow.com/users/774896}
  \end{tabularx}
}

\pdfinfo{
  /Owner (\@author)
  /Author (\@author)
  /Title (\@title)
  /Subject (\@tagline)
  /Language (en-US)
  /Copyrighted (True)
  /PublicationType (Resume)
  /Keywords (Senior Software Engineer, FullStack, Frontend, Javascript, Typescript, React, NextJs, HTML, CSS, CSS in JS, CSS Modules, Atomic CSS, Service Workers, Progressive Web App, PWA, NodeJs, ExpressJs, Redis, MongoDB, PostgreSQL, Rest API, GraphQL, Docker, CI/CD, NGINX, Webpack, Babel, NPM, Yarn, Pnpm, Jest, Cypress, Playwright, Git, Amazon Web Services, AWS, Google Cloud Platform, GCP, Algorithms, Systems Design, Scrum, Kanban, Agile, TDD, BDD, Unit tests, Integration tests, Python, AsyncIO, Ruby, Ruby on Rails, Elixir, Java, Maven, Bash, Linux, Nix, Kubernetes)
}


\begin{document}

  \columnratio{0.80}

  \begin{paracol}{2}
    \backgroundcolor{c[1](\dimexpr \columnsep / 2, \Gm@tmargin)(\Gm@rmargin, 10000pt)}{primary}

    % Ensure that the first sections on both columns are aligned.
    \begin{leftcolumn}
      \makecvheader\bigskip
    \end{leftcolumn}
    \begin{rightcolumn}
      \avatar[rounded]{100pt}{avatar}
    \end{rightcolumn}

    \begin{leftcolumn*}
      \import{./sections}{main.tex}
    \end{leftcolumn*}

    \begin{rightcolumn}
      \import{./sections}{sidebar.tex}
      % Top bar
      \begin{tikzpicture}[remember picture, overlay]
        \fill[black, opacity=0.3] (current page.north east) rectangle ++(-\dimexpr \columnwidth + \columnsep / 2 + \Gm@lmargin, -0.5cm);
      \end{tikzpicture}%
      \signature{%
        This document is created using \LaTeX 
      }
    \end{rightcolumn}

  \end{paracol}

  \newpage
  \import{./sections}{tail.tex}

\end{document}
